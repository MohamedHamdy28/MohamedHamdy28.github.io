import{S as L,i as R,s as E,K as q,k as _,l as f,m as k,h as l,n as u,b as p,L as x,H as m,q as w,a as S,r as y,c as P,J as j,D as I}from"../chunks/index.78d7e01a.js";function C(i){return{c:m,l:m,m,p:m,d:m}}function H(i){let e,t=i[0].title+"",a,s,o,v,d,r,g=i[0].date_message+"",h;return{c(){e=_("h3"),a=w(t),s=S(),o=_("img"),d=S(),r=_("p"),h=w(g),this.h()},l(n){e=f(n,"H3",{id:!0});var c=k(e);a=y(c,t),c.forEach(l),s=P(n),o=f(n,"IMG",{id:!0,src:!0,alt:!0}),d=P(n),r=f(n,"P",{id:!0});var b=k(r);h=y(b,g),b.forEach(l),this.h()},h(){u(e,"id","img-title"),u(o,"id","img"),j(o.src,v=i[0].img)||u(o,"src",v),u(o,"alt","a comic should be here"),u(r,"id","date")},m(n,c){p(n,e,c),I(e,a),p(n,s,c),p(n,o,c),p(n,d,c),p(n,r,c),I(r,h)},p:m,d(n){n&&l(e),n&&l(s),n&&l(o),n&&l(d),n&&l(r)}}}function U(i){let e,t;return{c(){e=_("p"),t=w("Loading...")},l(a){e=f(a,"P",{});var s=k(e);t=y(s,"Loading..."),s.forEach(l)},m(a,s){p(a,e,s),I(e,t)},p:m,d(a){a&&l(e)}}}function G(i){let e,t={ctx:i,current:null,token:null,hasCatch:!1,pending:U,then:H,catch:C,value:0};return q(K(J),t),{c(){e=_("div"),t.block.c(),this.h()},l(a){e=f(a,"DIV",{class:!0});var s=k(e);t.block.l(s),s.forEach(l),this.h()},h(){u(e,"class","comic svelte-1ehsg6k")},m(a,s){p(a,e,s),t.block.m(e,t.anchor=null),t.mount=()=>e,t.anchor=null},p(a,[s]){i=a,x(t,i,s)},i:m,o:m,d(a){a&&l(e),t.block.d(),t.token=null,t=null}}}const J="m.abdelhamid@innopolis.university";async function K(i){const e=new URLSearchParams;e.append("email",i);const a=await(await fetch("https://fwd.innopolis.app/api/hw2?"+e.toString())).json(),s=new URLSearchParams;s.append("num",a.toString());const v=await(await fetch("https://getxkcd.vercel.app/api/comic?"+s.toString())).json(),{alt:d,day:r,img:g,month:h,title:n,year:c}=v,D="This image was uploaded on "+new Date(parseInt(c),parseInt(h)-1,parseInt(r)).toLocaleDateString();return{img:g,alt:d,title:n,date_message:D}}class T extends L{constructor(e){super(),R(this,e,null,G,E,{})}}export{T as default};
