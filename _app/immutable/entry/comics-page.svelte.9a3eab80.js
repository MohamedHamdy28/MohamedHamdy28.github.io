import{S as C,i as E,s as q,K as y,k as g,l as v,m as k,h as o,n as u,b as d,L as H,H as m,q as w,a as S,r as I,c as P,J as D,D as $,u as L,y as U,z as x,A as z,g as A,d as B,B as G}from"../chunks/index.78d7e01a.js";function J(i){return{c:m,l:m,m,p:m,d:m}}function K(i){let e,s=i[1].title+"",t,a,c,_,f,r,p=i[1].date_message+"",h;return{c(){e=g("h3"),t=w(s),a=S(),c=g("img"),f=S(),r=g("p"),h=w(p),this.h()},l(n){e=v(n,"H3",{id:!0});var l=k(e);t=I(l,s),l.forEach(o),a=P(n),c=v(n,"IMG",{id:!0,src:!0,alt:!0}),f=P(n),r=v(n,"P",{id:!0});var b=k(r);h=I(b,p),b.forEach(o),this.h()},h(){u(e,"id","img-title"),u(c,"id","img"),D(c.src,_=i[1].img)||u(c,"src",_),u(c,"alt","a comic should be here"),u(r,"id","date")},m(n,l){d(n,e,l),$(e,t),d(n,a,l),d(n,c,l),d(n,f,l),d(n,r,l),$(r,h)},p(n,l){l&1&&s!==(s=n[1].title+"")&&L(t,s),l&1&&!D(c.src,_=n[1].img)&&u(c,"src",_),l&1&&p!==(p=n[1].date_message+"")&&L(h,p)},d(n){n&&o(e),n&&o(a),n&&o(c),n&&o(f),n&&o(r)}}}function M(i){let e,s;return{c(){e=g("p"),s=w("Loading...")},l(t){e=v(t,"P",{});var a=k(e);s=I(a,"Loading..."),a.forEach(o)},m(t,a){d(t,e,a),$(e,s)},p:m,d(t){t&&o(e)}}}function T(i){let e,s,t={ctx:i,current:null,token:null,hasCatch:!1,pending:M,then:K,catch:J,value:1};return y(s=R(i[0]),t),{c(){e=g("div"),t.block.c(),this.h()},l(a){e=v(a,"DIV",{class:!0});var c=k(e);t.block.l(c),c.forEach(o),this.h()},h(){u(e,"class","comic svelte-1ehsg6k")},m(a,c){d(a,e,c),t.block.m(e,t.anchor=null),t.mount=()=>e,t.anchor=null},p(a,[c]){i=a,t.ctx=i,c&1&&s!==(s=R(i[0]))&&y(s,t)||H(t,i,c)},i:m,o:m,d(a){a&&o(e),t.block.d(),t.token=null,t=null}}}async function R(i){const e=new URLSearchParams;e.append("email",i);const t=await(await fetch("https://fwd.innopolis.app/api/hw2?"+e.toString())).json(),a=new URLSearchParams;a.append("num",t.toString());const _=await(await fetch("https://getxkcd.vercel.app/api/comic?"+a.toString())).json(),{alt:f,day:r,img:p,month:h,title:n,year:l}=_,j="This image was uploaded on "+new Date(parseInt(l),parseInt(h)-1,parseInt(r)).toLocaleDateString();return{img:p,alt:f,title:n,date_message:j}}function V(i,e,s){let{email:t}=e;return i.$$set=a=>{"email"in a&&s(0,t=a.email)},[t]}class F extends C{constructor(e){super(),E(this,e,V,T,q,{email:0})}}function N(i){let e,s;return e=new F({props:{email:"m.abdelhamid@innopolis.university"}}),{c(){U(e.$$.fragment)},l(t){x(e.$$.fragment,t)},m(t,a){z(e,t,a),s=!0},p:m,i(t){s||(A(e.$$.fragment,t),s=!0)},o(t){B(e.$$.fragment,t),s=!1},d(t){G(e,t)}}}class Q extends C{constructor(e){super(),E(this,e,null,N,q,{})}}export{Q as default};
